'use strict';const a0_0x5001d6=a0_0x5db3;function a0_0x22e0(){const _0x579279=['__esModule','initialRealTokenReserves','1396016bbGzFs','789230qSdHyx','729129OwRXTy','4487qTMdmO','initialVirtualSolReserves','virtualSolReserves','realSolReserves','getSellPrice','36AnlPoc','defineProperty','initialVirtualTokenReserves','2192Ttzicc','239502BmUexg','fromGlobalAccount','fromBondingCurveAccount','60YfqXlS','2Rauhsi','21414yGPUni','realTokenReserves','virtualTokenReserves','AMM','getBuyPrice','5247825HimYuJ'];a0_0x22e0=function(){return _0x579279;};return a0_0x22e0();}function a0_0x5db3(_0x378eaf,_0x4d814e){const _0x22e02b=a0_0x22e0();return a0_0x5db3=function(_0x5db38b,_0x5c6dce){_0x5db38b=_0x5db38b-0x195;let _0x45f683=_0x22e02b[_0x5db38b];return _0x45f683;},a0_0x5db3(_0x378eaf,_0x4d814e);}(function(_0x5a9c59,_0x2bded4){const _0xe1ab63=a0_0x5db3,_0x521fc3=_0x5a9c59();while(!![]){try{const _0x29d3cd=parseInt(_0xe1ab63(0x1ab))/0x1+-parseInt(_0xe1ab63(0x1a0))/0x2*(-parseInt(_0xe1ab63(0x19c))/0x3)+-parseInt(_0xe1ab63(0x1a9))/0x4+parseInt(_0xe1ab63(0x19f))/0x5*(-parseInt(_0xe1ab63(0x1a1))/0x6)+-parseInt(_0xe1ab63(0x1ac))/0x7*(parseInt(_0xe1ab63(0x19b))/0x8)+-parseInt(_0xe1ab63(0x198))/0x9*(parseInt(_0xe1ab63(0x1aa))/0xa)+parseInt(_0xe1ab63(0x1a6))/0xb;if(_0x29d3cd===_0x2bded4)break;else _0x521fc3['push'](_0x521fc3['shift']());}catch(_0x9872ab){_0x521fc3['push'](_0x521fc3['shift']());}}}(a0_0x22e0,0x625c0));Object[a0_0x5001d6(0x199)](exports,a0_0x5001d6(0x1a7),{'value':!![]}),exports[a0_0x5001d6(0x1a4)]=void 0x0;class AMM{['virtualSolReserves'];[a0_0x5001d6(0x1a3)];[a0_0x5001d6(0x196)];[a0_0x5001d6(0x1a2)];[a0_0x5001d6(0x19a)];constructor(_0x2268a8,_0x26401b,_0x26f391,_0x1ad68c,_0x2b67aa){const _0x5a20af=a0_0x5001d6;this['virtualSolReserves']=_0x2268a8,this[_0x5a20af(0x1a3)]=_0x26401b,this[_0x5a20af(0x196)]=_0x26f391,this[_0x5a20af(0x1a2)]=_0x1ad68c,this[_0x5a20af(0x19a)]=_0x2b67aa;}static[a0_0x5001d6(0x19d)](_0x4dd8bf){const _0x5607aa=a0_0x5001d6;return new AMM(_0x4dd8bf[_0x5607aa(0x1ad)],_0x4dd8bf[_0x5607aa(0x19a)],0x0n,_0x4dd8bf[_0x5607aa(0x1a8)],_0x4dd8bf['initialVirtualTokenReserves']);}static[a0_0x5001d6(0x19e)](_0x58a531,_0x20f70b){const _0x2512e0=a0_0x5001d6;return new AMM(_0x58a531['virtualSolReserves'],_0x58a531['virtualTokenReserves'],_0x58a531[_0x2512e0(0x196)],_0x58a531[_0x2512e0(0x1a2)],_0x20f70b);}[a0_0x5001d6(0x1a5)](_0x579093){const _0x6a9b40=a0_0x5001d6,_0x58180b=this['virtualSolReserves']*this[_0x6a9b40(0x1a3)],_0x176f80=this['virtualTokenReserves']-_0x579093,_0x34431c=_0x58180b/_0x176f80+0x1n,_0x581b22=_0x34431c>this['virtualSolReserves']?_0x34431c-this[_0x6a9b40(0x195)]:0x0n;return _0x581b22>0x0n?_0x581b22:0x0n;}['applyBuy'](_0x832b66){const _0xa4fffe=a0_0x5001d6,_0x5a7ff9=_0x832b66>this['realTokenReserves']?this[_0xa4fffe(0x1a2)]:_0x832b66,_0x1fa516=this['getBuyPrice'](_0x5a7ff9);return this['virtualTokenReserves']=this[_0xa4fffe(0x1a3)]-_0x5a7ff9,this[_0xa4fffe(0x1a2)]=this[_0xa4fffe(0x1a2)]-_0x5a7ff9,this['virtualSolReserves']=this[_0xa4fffe(0x195)]+_0x1fa516,this[_0xa4fffe(0x196)]=this['realSolReserves']+_0x1fa516,{'token_amount':_0x5a7ff9,'sol_amount':_0x1fa516};}['applySell'](_0x3d565f){const _0x254b5d=a0_0x5001d6;this[_0x254b5d(0x1a3)]=this['virtualTokenReserves']+_0x3d565f,this['realTokenReserves']=this[_0x254b5d(0x1a2)]+_0x3d565f;const _0x15edd0=this[_0x254b5d(0x197)](_0x3d565f);return this['virtualSolReserves']=this[_0x254b5d(0x195)]-_0x15edd0,this[_0x254b5d(0x196)]=this[_0x254b5d(0x196)]-_0x15edd0,{'token_amount':_0x3d565f,'sol_amount':_0x15edd0};}[a0_0x5001d6(0x197)](_0x1f3c45){const _0x9a5422=a0_0x5001d6,_0x501e8c=this['initialVirtualTokenReserves'],_0xf9e14a=_0x1f3c45*_0x501e8c/this[_0x9a5422(0x1a3)],_0x67eee2=this[_0x9a5422(0x195)]*_0xf9e14a/_0x501e8c;return _0x67eee2<this['realSolReserves']?_0x67eee2:this['realSolReserves'];}}exports[a0_0x5001d6(0x1a4)]=AMM;