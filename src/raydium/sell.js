const a5_0x549977=a5_0x3391;(function(_0x577507,_0x51f7ac){const _0x54c4e0=a5_0x3391,_0x22e5c4=_0x577507();while(!![]){try{const _0x285ee7=-parseInt(_0x54c4e0(0x163))/0x1*(parseInt(_0x54c4e0(0x169))/0x2)+parseInt(_0x54c4e0(0x15d))/0x3+-parseInt(_0x54c4e0(0x194))/0x4+parseInt(_0x54c4e0(0x1ac))/0x5*(parseInt(_0x54c4e0(0x17e))/0x6)+parseInt(_0x54c4e0(0x1a5))/0x7*(parseInt(_0x54c4e0(0x173))/0x8)+-parseInt(_0x54c4e0(0x16e))/0x9*(parseInt(_0x54c4e0(0x166))/0xa)+parseInt(_0x54c4e0(0x1a1))/0xb;if(_0x285ee7===_0x51f7ac)break;else _0x22e5c4['push'](_0x22e5c4['shift']());}catch(_0x2e90d0){_0x22e5c4['push'](_0x22e5c4['shift']());}}}(a5_0x2a61,0x18ff4));function a5_0x2a61(){const _0x44d889=['https://explorer.jito.wtf/bundle/','Error\x20creating\x20keypair:','quoteVault','Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY','Selling\x20','4062IZVoaw','value','dirname','Choose\x20a\x20wallet\x20(pubKey\x20-\x20token\x20balance):','from','RPC_URL','srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX','url','confirmed','log','existsSync','amount','sign','pubKey','toFixed','parse','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49','Error','File\x20','error','sendBundle','656780xIdpUB','warn','openOrders','compileToV0Message','toString','finalized','yellow','pathname','\x20-\x20','BLOCK_ENGINE_URL','length','resolve','JITO_TIP_SECRET_KEY','1427195OoKrcL','mrktEventQueue','readFileSync','Bundle\x20sent','7qldqcl','transfer','ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','targetOrders','\x20does\x20not\x20exist.','map','55CAKudQ','serialize','Error\x20fetching\x20balance\x20for\x20wallet\x20','publicKey','then','min_out_amount','\x20from\x20','amount_in','getAssociatedTokenAddress','random','557193GWWzYN','floor','WALLET_BUYERS_FOLDER','push','getTokenAccountBalance','../../config.json','1eGeOGy','getTokenAccountsByOwner','JITO_TIP_AMOUNT','49050sZmhmF','cmd','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','56422ORGLUN','privKey','mrktQuoteVault','mrktBaseVault','wallet','153bnMVIe','HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe','mrktAsks','all','fromSecretKey','442048zCEUMy','TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA','u64','prompt','675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8','utf8'];a5_0x2a61=function(){return _0x44d889;};return a5_0x2a61();}import{Connection,PublicKey,Keypair,TransactionInstruction,TransactionMessage,VersionedTransaction,SystemProgram}from'@solana/web3.js';import*as a5_0x1fa10b from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a5_0x1f33b6 from'fs';import a5_0x26feba from'path';import a5_0x42d292 from'bs58';import a5_0x37cd81 from'inquirer';import{Parser}from'./parser.js';import a5_0x232f7f from'./poolKeys.js';import a5_0x4280f4 from'./getMID.js';import a5_0x5f04e5 from'./createWSOL.js';import a5_0x7ce5af from'chalk';const __dirname=a5_0x26feba[a5_0x549977(0x180)](new URL(import.meta[a5_0x549977(0x185)])[a5_0x549977(0x19b)]),configPath=a5_0x26feba[a5_0x549977(0x19f)](__dirname,a5_0x549977(0x162));function a5_0x3391(_0x43af9b,_0x12d57a){const _0x2a6142=a5_0x2a61();return a5_0x3391=function(_0x339124,_0x290f15){_0x339124=_0x339124-0x157;let _0x2eb4d6=_0x2a6142[_0x339124];return _0x2eb4d6;},a5_0x3391(_0x43af9b,_0x12d57a);}async function loadConfig(){const _0x3042e9=a5_0x549977;return JSON[_0x3042e9(0x18d)](a5_0x1f33b6[_0x3042e9(0x1a3)](configPath,_0x3042e9(0x178)));}async function loadWallets(){const _0x4609b0=a5_0x549977,_0x2a04df=await loadConfig(),_0x10027b=_0x2a04df[_0x4609b0(0x15f)],_0x18cd57=[];for(let _0xdb3681=0x1;_0xdb3681<=0x14;_0xdb3681++){const _0x307d21=a5_0x26feba['join'](_0x10027b,_0x4609b0(0x16d)+_0xdb3681+'.json');if(a5_0x1f33b6[_0x4609b0(0x188)](_0x307d21)){const _0x1432da=Uint8Array[_0x4609b0(0x182)](JSON[_0x4609b0(0x18d)](a5_0x1f33b6['readFileSync'](_0x307d21,_0x4609b0(0x178)))),_0x15846d=Keypair[_0x4609b0(0x172)](_0x1432da);_0x18cd57[_0x4609b0(0x160)]({'pubKey':_0x15846d[_0x4609b0(0x1af)][_0x4609b0(0x198)](),'privKey':a5_0x42d292['encode'](_0x15846d['secretKey'])});}else console[_0x4609b0(0x195)](a5_0x7ce5af[_0x4609b0(0x19a)](_0x4609b0(0x191)+_0x307d21+_0x4609b0(0x1aa)));}return _0x18cd57;}export function getKeypairFromBs58(_0x3dd252){const _0x5b31f7=a5_0x549977;try{const _0xaa3999=a5_0x42d292['decode'](_0x3dd252),_0x4c6da7=Uint8Array[_0x5b31f7(0x182)](_0xaa3999);return Keypair[_0x5b31f7(0x172)](_0x4c6da7);}catch(_0x199a36){console[_0x5b31f7(0x192)](_0x5b31f7(0x17a),_0x199a36+_0x3dd252);throw _0x199a36;}}async function getTokenActBal(_0x4694f1,_0x1a8308){const _0x32bcdf=a5_0x549977,_0x4ca310=await loadConfig(),_0x4d545b=new Connection(_0x4ca310[_0x32bcdf(0x183)],'confirmed'),_0x343112=new PublicKey(_0x4694f1[_0x32bcdf(0x18b)]);try{const _0x4bf226=await _0x4d545b['getTokenAccountsByOwner'](_0x343112,{'mint':_0x1a8308});if(_0x4bf226['value'][_0x32bcdf(0x19e)]===0x0)return'0';const _0x266708=_0x4bf226[_0x32bcdf(0x17f)][0x0]['pubkey'],_0x57231a=await _0x4d545b[_0x32bcdf(0x161)](_0x266708);return _0x57231a[_0x32bcdf(0x17f)][_0x32bcdf(0x189)]||'0';}catch(_0x1c9baf){return console[_0x32bcdf(0x192)](_0x32bcdf(0x1ae)+_0x4694f1[_0x32bcdf(0x18b)]+':',_0x1c9baf),_0x32bcdf(0x190);}}async function chooseWallet(_0x11a37c){const _0x252305=a5_0x549977,_0x2ace09=await loadWallets(),_0x196ab8=new PublicKey(_0x11a37c),_0xf5b5e1=await Promise[_0x252305(0x171)](_0x2ace09[_0x252305(0x1ab)](async(_0x55cb99,_0x50125a)=>{const _0xe4fd40=_0x252305,_0x18eb2d=await getTokenActBal(_0x55cb99,_0x196ab8);return{'name':_0x50125a+':\x20'+_0x55cb99['pubKey']+_0xe4fd40(0x19c)+(_0x18eb2d/0xf4240)[_0xe4fd40(0x18c)](0x2),'value':{'index':_0x50125a,..._0x55cb99}};})),_0x1cf342=[{'type':'list','name':'wallet','message':_0x252305(0x181),'choices':_0xf5b5e1}];return a5_0x37cd81[_0x252305(0x176)](_0x1cf342)[_0x252305(0x157)](_0x339488=>_0x339488[_0x252305(0x16d)]);}async function raySell(_0x2fc285,_0x23480f){const _0x538b0a=a5_0x549977,_0x8b162b=await loadConfig(),_0x370589=new Connection(_0x8b162b[_0x538b0a(0x183)],_0x538b0a(0x186)),_0x3944bc=getKeypairFromBs58(_0x8b162b[_0x538b0a(0x1a0)]),_0x3587bb=_0x8b162b[_0x538b0a(0x19d)],_0x177820=parseFloat(_0x8b162b[_0x538b0a(0x165)])*0x3b9aca00,_0x1448cc=await chooseWallet(_0x2fc285),_0x48ba2d=new PublicKey(_0x1448cc[_0x538b0a(0x18b)]),_0x4e1042=getKeypairFromBs58(_0x1448cc[_0x538b0a(0x16a)]),_0x382a34=await a5_0x1fa10b[_0x538b0a(0x15b)](a5_0x1fa10b['NATIVE_MINT'],_0x48ba2d),_0x228784=await a5_0x5f04e5(_0x48ba2d),_0x2ed241=await a5_0x4280f4(_0x2fc285),_0x3dabb2=new PublicKey(_0x2ed241['marketID']),_0x25e31f=new PublicKey(_0x538b0a(0x177)),_0x2bdb33=new PublicKey('5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1'),_0x4a218b=new PublicKey(_0x538b0a(0x184)),_0x381d0c=await a5_0x232f7f(_0x3dabb2),_0x211b14=_0x381d0c['poolID'],_0x640b71=_0x381d0c[_0x538b0a(0x196)],_0x29a1b6=_0x381d0c[_0x538b0a(0x1a9)],_0x159fb4=_0x381d0c['baseVault'],_0x3dc548=_0x381d0c[_0x538b0a(0x17b)],_0x2e9ffb=_0x2bdb33,_0x2a5a72=_0x381d0c[_0x538b0a(0x16c)],_0x4eba5b=_0x381d0c[_0x538b0a(0x16b)],_0x1e2383=_0x381d0c['mrktBids'],_0x4fdbaa=_0x381d0c[_0x538b0a(0x170)],_0x15dc29=_0x381d0c[_0x538b0a(0x1a2)],_0x2d3f13=await _0x370589[_0x538b0a(0x164)](_0x48ba2d,{'mint':new PublicKey(_0x2fc285)})[_0x538b0a(0x157)](_0x2220f9=>_0x2220f9[_0x538b0a(0x17f)][0x0]['pubkey']),_0x3a742b=await _0x370589[_0x538b0a(0x161)](_0x2d3f13);let _0x13e9b9=_0x3a742b[_0x538b0a(0x17f)][_0x538b0a(0x189)];_0x23480f<0x64&&(_0x13e9b9=Math[_0x538b0a(0x15e)](_0x13e9b9*_0x23480f/0x64),console[_0x538b0a(0x187)](a5_0x7ce5af['blue'](_0x538b0a(0x17d)+_0x23480f+'%\x20of\x20'+_0x2fc285+_0x538b0a(0x159)+_0x1448cc[_0x538b0a(0x18b)])));const _0x2eb448=new Parser()['u8'](_0x538b0a(0x167))[_0x538b0a(0x175)](_0x538b0a(0x15a))[_0x538b0a(0x175)](_0x538b0a(0x158)),_0x226123=_0x2eb448['encode']({'cmd':0x9,'amount_in':_0x13e9b9,'min_out_amount':0x0}),_0x3f664f=new TransactionInstruction({'programId':_0x25e31f,'keys':[{'pubkey':new PublicKey(_0x538b0a(0x174)),'isSigner':![],'isWritable':![]},{'pubkey':_0x211b14,'isSigner':![],'isWritable':!![]},{'pubkey':_0x2bdb33,'isSigner':![],'isWritable':![]},{'pubkey':_0x640b71,'isSigner':![],'isWritable':!![]},{'pubkey':_0x29a1b6,'isSigner':![],'isWritable':!![]},{'pubkey':_0x159fb4,'isSigner':![],'isWritable':!![]},{'pubkey':_0x3dc548,'isSigner':![],'isWritable':!![]},{'pubkey':_0x4a218b,'isSigner':![],'isWritable':![]},{'pubkey':_0x3dabb2,'isSigner':![],'isWritable':!![]},{'pubkey':_0x1e2383,'isSigner':![],'isWritable':!![]},{'pubkey':_0x4fdbaa,'isSigner':![],'isWritable':!![]},{'pubkey':_0x15dc29,'isSigner':![],'isWritable':!![]},{'pubkey':_0x2a5a72,'isSigner':![],'isWritable':!![]},{'pubkey':_0x4eba5b,'isSigner':![],'isWritable':!![]},{'pubkey':_0x2e9ffb,'isSigner':![],'isWritable':![]},{'pubkey':_0x2d3f13,'isSigner':![],'isWritable':!![]},{'pubkey':_0x382a34,'isSigner':![],'isWritable':!![]},{'pubkey':_0x48ba2d,'isSigner':!![],'isWritable':!![]}],'data':_0x226123}),_0x19d8b1=searcherClient(_0x3587bb),_0x545fd8=['96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5',_0x538b0a(0x16f),_0x538b0a(0x17c),_0x538b0a(0x18f),_0x538b0a(0x168),_0x538b0a(0x1a7),_0x538b0a(0x18e),_0x538b0a(0x1a8)];let _0x15e11d=Math['floor'](Math[_0x538b0a(0x15c)]()*_0x545fd8[_0x538b0a(0x19e)]),_0xbc6706=_0x545fd8[_0x15e11d];const _0x2bf379=new PublicKey(_0xbc6706),_0x396ea8=await _0x370589['getLatestBlockhash'](_0x538b0a(0x199)),_0x84d3c3=_0x396ea8['blockhash'],_0x28b0af=SystemProgram[_0x538b0a(0x1a6)]({'fromPubkey':_0x3944bc['publicKey'],'toPubkey':_0x2bf379,'lamports':_0x177820}),_0x23c9c7=new TransactionMessage({'payerKey':_0x4e1042['publicKey'],'instructions':[_0x228784,_0x3f664f,_0x28b0af],'recentBlockhash':_0x84d3c3})[_0x538b0a(0x197)]([]),_0x172bc8=new VersionedTransaction(_0x23c9c7);_0x172bc8[_0x538b0a(0x18a)]([_0x4e1042,_0x3944bc]),console[_0x538b0a(0x187)](_0x172bc8[_0x538b0a(0x1ad)]()[_0x538b0a(0x19e)]);const _0x9ee3f6=new Bundle([]),_0x1f54a5=_0x9ee3f6['addTransactions'](_0x172bc8),_0x3facf3=await _0x19d8b1[_0x538b0a(0x193)](_0x1f54a5);console[_0x538b0a(0x187)](_0x538b0a(0x1a4),_0x538b0a(0x179)+_0x3facf3);}export default raySell;