const a23_0x45b0bc=a23_0x2c90;(function(_0x146391,_0x32734c){const _0x1b0438=a23_0x2c90,_0x14874b=_0x146391();while(!![]){try{const _0x3dce99=parseInt(_0x1b0438(0x96))/0x1*(parseInt(_0x1b0438(0xc0))/0x2)+parseInt(_0x1b0438(0x9b))/0x3+parseInt(_0x1b0438(0xd2))/0x4+parseInt(_0x1b0438(0x94))/0x5*(-parseInt(_0x1b0438(0xca))/0x6)+parseInt(_0x1b0438(0xa4))/0x7+parseInt(_0x1b0438(0xc3))/0x8+-parseInt(_0x1b0438(0xc9))/0x9;if(_0x3dce99===_0x32734c)break;else _0x14874b['push'](_0x14874b['shift']());}catch(_0x533866){_0x14874b['push'](_0x14874b['shift']());}}}(a23_0x4a6a,0x2e98e));function a23_0x2c90(_0x4311df,_0x58defc){const _0x4a6a11=a23_0x4a6a();return a23_0x2c90=function(_0x2c90b1,_0x3126f4){_0x2c90b1=_0x2c90b1-0x8c;let _0x5da5ac=_0x4a6a11[_0x2c90b1];return _0x5da5ac;},a23_0x2c90(_0x4311df,_0x58defc);}import{Connection,PublicKey,Keypair,TransactionMessage,VersionedTransaction}from'@solana/web3.js';import*as a23_0xf6e2a2 from'@solana/spl-token';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import{sendBundle2}from'../sendBundle.js';import{getKeypairFromBs58}from'./sell.js';import a23_0x118f2f from'chalk';import a23_0x44b46e from'fs';import a23_0x39748a from'path';const __dirname=a23_0x39748a[a23_0x45b0bc(0xb6)](new URL(import.meta[a23_0x45b0bc(0xc5)])[a23_0x45b0bc(0x8c)]),configPath=a23_0x39748a[a23_0x45b0bc(0xb8)](__dirname,a23_0x45b0bc(0xc4));async function loadConfig(){const _0x847190=a23_0x45b0bc;return JSON[_0x847190(0xa1)](a23_0x44b46e[_0x847190(0x99)](configPath,_0x847190(0xbf)));}function a23_0x4a6a(){const _0x21484d=['1440740VPsxsK','pathname','\x20-\x20No\x20wrapped\x20SOL\x20balance','NATIVE_MINT','transactions','bold','includes','secretKey','join','113875axMdZK','compileToV0Message','117385AiEmPK','jitoTip','message','readFileSync','jitoTipAmount','1101039XMQuvd','err','uiAmount','slice','\x20does\x20not\x20exist.','Simulation\x20passed,\x20adding\x20TX\x20to\x20bundle.','parse','Failed\x20to\x20get\x20wSOL\x20account','Skipping\x20wallet\x20','22064DxmHxj','warn','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5','Sent\x20Bundle:\x20https://explorer.jito.wtf/bundle/','error','toString','created\x20','instruction','Added\x20tip\x20to\x20bundle','push','getLatestBlockhash','from','map','encode','wsURL','File\x20','pubKey','floor','dirname','Simulation\x20failed,\x20skipping\x20this\x20transaction.','resolve','bundle\x20contains\x20an\x20already\x20processed\x20transaction','wallet','rpcURL','yellow','length','log','utf8','4PeCGFC','sign','createCloseAccountInstruction','840056BZHlnc','../../config.json','url','publicKey','Error\x20simulating\x20transaction:\x20','privKey','5043735bFRwNQ','84gDAxOf','blockhash','WALLET_BUYERS_FOLDER','\x20transactions.','red','confirmed','value','Bundle\x20created\x20with\x20'];a23_0x4a6a=function(){return _0x21484d;};return a23_0x4a6a();}async function loadWallets(){const _0x463f4c=a23_0x45b0bc,_0xcb9bfa=await loadConfig(),_0xf0b232=_0xcb9bfa[_0x463f4c(0xcc)],_0x449e0a=[];for(let _0x19eec3=0x1;_0x19eec3<=0x14;_0x19eec3++){const _0x37563e=a23_0x39748a[_0x463f4c(0x93)](_0xf0b232,_0x463f4c(0xba)+_0x19eec3+'.json');if(a23_0x44b46e['existsSync'](_0x37563e)){const _0x536ac5=Uint8Array[_0x463f4c(0xaf)](JSON[_0x463f4c(0xa1)](a23_0x44b46e[_0x463f4c(0x99)](_0x37563e,_0x463f4c(0xbf)))),_0x379bcc=Keypair['fromSecretKey'](_0x536ac5);_0x449e0a[_0x463f4c(0xad)]({'pubKey':_0x379bcc['publicKey'][_0x463f4c(0xa9)](),'privKey':bs58[_0x463f4c(0xb1)](_0x379bcc[_0x463f4c(0x92)])});}else console[_0x463f4c(0xa5)](a23_0x118f2f[_0x463f4c(0xbc)](_0x463f4c(0xb3)+_0x37563e+_0x463f4c(0x9f)));}return _0x449e0a;}async function unWrapIX(_0x5de210){const _0x391fd9=a23_0x45b0bc,_0x3e616a=await loadWallets();let _0x178840=[];for(const _0x11b2f2 of _0x3e616a){const _0x5bbcea=new PublicKey(_0x11b2f2['pubKey']),_0x3bd4d3=await a23_0xf6e2a2['getAssociatedTokenAddress'](a23_0xf6e2a2[_0x391fd9(0x8e)],_0x5bbcea);if(!_0x3bd4d3){console[_0x391fd9(0xa8)](a23_0x118f2f[_0x391fd9(0xce)][_0x391fd9(0x90)](_0x391fd9(0xa2)));continue;}try{const _0x11e98f=await _0x5de210['getTokenAccountBalance'](_0x3bd4d3);if(_0x11e98f[_0x391fd9(0xd0)][_0x391fd9(0x9d)]===0x0){console[_0x391fd9(0xbe)](a23_0x118f2f[_0x391fd9(0xbc)](_0x391fd9(0xa3)+_0x11b2f2[_0x391fd9(0xb4)]+_0x391fd9(0x8d)));continue;}}catch(_0xb0140){continue;}const _0x4fc86f=a23_0xf6e2a2[_0x391fd9(0xc2)](_0x3bd4d3,_0x5bbcea,_0x5bbcea);_0x178840[_0x391fd9(0xad)]({'instruction':_0x4fc86f,'wallet':getKeypairFromBs58(_0x11b2f2[_0x391fd9(0xc8)])});}return console['log'](_0x391fd9(0xaa)+_0x178840['length']+'\x20unwrap\x20instructions'),_0x178840;}async function unWrap(){const _0x244940=a23_0x45b0bc,_0x367858=await loadConfig(),_0x4f7e99=_0x367858[_0x244940(0xbb)],_0x2750d5=_0x367858[_0x244940(0xb2)],_0x2d205c=getKeypairFromBs58(_0x367858[_0x244940(0x97)]),_0x3e78ba=parseFloat(_0x367858[_0x244940(0x9a)]),_0x27b2e2=Math[_0x244940(0xb5)](_0x3e78ba*0x3b9aca00),_0x5e590d=_0x367858['blockEngineURL'],_0x12575d=new Connection(_0x4f7e99,{'commitment':_0x244940(0xcf),'wsEndpoint':_0x2750d5}),_0x1e9de6=await unWrapIX(_0x12575d),_0x5af3d4=[];for(let _0xbf492a=0x0;_0xbf492a<_0x1e9de6['length'];_0xbf492a+=0x4){const _0xcef8fc=_0x1e9de6[_0x244940(0x9e)](_0xbf492a,_0xbf492a+0x4),_0x24573f=_0xcef8fc[_0x244940(0xb0)](_0x56a06d=>_0x56a06d[_0x244940(0xab)]),_0x1832a6=_0xcef8fc[_0x244940(0xb0)](_0x237314=>_0x237314['wallet']),_0x12cc4b=(await _0x12575d[_0x244940(0xae)]())['blockhash'],_0x2ee5cf=new TransactionMessage({'payerKey':_0x2d205c[_0x244940(0xc6)],'instructions':_0x24573f,'recentBlockhash':_0x12cc4b})[_0x244940(0x95)]([]),_0x3b486f=new VersionedTransaction(_0x2ee5cf);_0x3b486f[_0x244940(0xc1)]([_0x2d205c,..._0x1832a6]),_0x5af3d4[_0x244940(0xad)](_0x3b486f);}const _0x2ed979=new Bundle([],0x5);for(const _0x34cca3 of _0x5af3d4){try{const {value:_0x2d484a}=await _0x12575d['simulateTransaction'](_0x34cca3);if(_0x2d484a[_0x244940(0x9c)]){console[_0x244940(0xbe)](a23_0x118f2f['yellow'](_0x244940(0xb7)));continue;}else{console[_0x244940(0xbe)](a23_0x118f2f['green']['bold'](_0x244940(0xa0))),_0x2ed979['addTransactions'](_0x34cca3);if(_0x2ed979[_0x244940(0x8f)][_0x244940(0xbd)]>=0x4)break;}}catch(_0xa39b14){console['error'](a23_0x118f2f[_0x244940(0xce)](_0x244940(0xc7)+_0xa39b14[_0x244940(0x98)]));}}const _0x4fc86d=new PublicKey(_0x244940(0xa6)),_0x11fda1=(await _0x12575d[_0x244940(0xae)]())[_0x244940(0xcb)];_0x2ed979['addTipTx'](_0x2d205c,_0x27b2e2,_0x4fc86d,_0x11fda1),console[_0x244940(0xbe)](_0x244940(0xac)),console[_0x244940(0xbe)](_0x244940(0xd1)+_0x2ed979[_0x244940(0x8f)][_0x244940(0xbd)]+_0x244940(0xcd));if(_0x2ed979[_0x244940(0x8f)][_0x244940(0xbd)]<=0x1){console[_0x244940(0xbe)](a23_0x118f2f['red']('Bundle\x20contains\x201\x20or\x20fewer\x20transactions,\x20exiting.'));return;}try{let _0x3e7289=await sendBundle(_0x2ed979,_0x5e590d);console['log'](_0x244940(0xa7)+_0x3e7289);}catch(_0x59dfe4){const _0x2155dd=_0x59dfe4;if(_0x2155dd[_0x244940(0x98)][_0x244940(0x91)](_0x244940(0xb9)))console['log']('Bundle\x20already\x20processed,\x20skipping.');else{console[_0x244940(0xa8)](a23_0x118f2f[_0x244940(0xce)]('Error\x20sending\x20bundle:\x20'+_0x59dfe4[_0x244940(0x98)]));return;}}}export default unWrap;