const a4_0x3838ad=a4_0x491c;function a4_0x491c(_0x2a91ce,_0x5cd606){const _0x219ace=a4_0x219a();return a4_0x491c=function(_0x491c20,_0x255107){_0x491c20=_0x491c20-0x130;let _0x12a64b=_0x219ace[_0x491c20];return _0x12a64b;},a4_0x491c(_0x2a91ce,_0x5cd606);}(function(_0x1bad3c,_0xb0a490){const _0x54e1f0=a4_0x491c,_0x1df5c4=_0x1bad3c();while(!![]){try{const _0x357be1=parseInt(_0x54e1f0(0x15e))/0x1*(parseInt(_0x54e1f0(0x13a))/0x2)+parseInt(_0x54e1f0(0x14f))/0x3*(parseInt(_0x54e1f0(0x149))/0x4)+parseInt(_0x54e1f0(0x16c))/0x5*(parseInt(_0x54e1f0(0x135))/0x6)+-parseInt(_0x54e1f0(0x16b))/0x7*(parseInt(_0x54e1f0(0x133))/0x8)+parseInt(_0x54e1f0(0x15a))/0x9*(parseInt(_0x54e1f0(0x131))/0xa)+-parseInt(_0x54e1f0(0x14b))/0xb+-parseInt(_0x54e1f0(0x150))/0xc*(-parseInt(_0x54e1f0(0x167))/0xd);if(_0x357be1===_0xb0a490)break;else _0x1df5c4['push'](_0x1df5c4['shift']());}catch(_0x29a975){_0x1df5c4['push'](_0x1df5c4['shift']());}}}(a4_0x219a,0x1fb4c));import{Keypair,Connection,PublicKey,Transaction,AddressLookupTableProgram,SystemProgram}from'@solana/web3.js';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a4_0x486056 from'fs';import a4_0x215949 from'path';import{fileURLToPath}from'url';import a4_0x321734 from'bs58';import a4_0x5d0681 from'chalk';const __filename=fileURLToPath(import.meta['url']),__dirname=a4_0x215949[a4_0x3838ad(0x14e)](__filename),configPath=a4_0x3838ad(0x151),config=JSON['parse'](a4_0x486056[a4_0x3838ad(0x143)](configPath,'utf8'));function a4_0x219a(){const _0xe765a0=['recentBlockhash','JITO_TIP_PK','programId','readFileSync','green','JITO_TIP_SECRET_KEY','Error\x20occurred\x20while\x20sending\x20the\x20bundle:','LUT\x20Address:','4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf','4ruXBtW','SysvarRent111111111111111111111111111111111','1309242gzyKXc','RPC_URL','endsWith','dirname','97134ygQunL','1312164lzZTyt','./config.json','sign','LOOKUP_TABLE_ADDRESS','utf8','log','6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P','metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s','getSlot','from','198sWJOLV','decode','error','fromSecretKey','93960wvEjGR','parse','addTransactions','feePayer','toBase58','finalized','createLookupTable','sendBundle','sort','13KfzCMx','SECRET_KEY_PATH','confirmed','add','7VGKMZP','155uoEzXf','ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL','CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM','59600RJXxFC','TSLvdd1pWpHVjahSpsvCXUbgwsL3JAcvokwaKt1eokM','1963088foMTUh','Sent\x20Bundle:','6486jPzUkC','Updated\x20config.json\x20with\x20new\x20LOOKUP_TABLE_ADDRESS.','TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA','join','map','4BFxHme','stringify','push','transfer','.json','publicKey'];a4_0x219a=function(){return _0xe765a0;};return a4_0x219a();}async function createAndExtendALT(_0x251f5b,_0x42cfa1,_0x472e51){const _0x2567c6=a4_0x3838ad,_0x5bed86=await _0x251f5b[_0x2567c6(0x158)](),[_0x53f21e,_0x54390e]=AddressLookupTableProgram[_0x2567c6(0x164)]({'authority':_0x42cfa1[_0x2567c6(0x13f)],'payer':_0x42cfa1[_0x2567c6(0x13f)],'recentSlot':_0x5bed86}),_0x133ab1=AddressLookupTableProgram['extendLookupTable']({'payer':_0x42cfa1[_0x2567c6(0x13f)],'authority':_0x42cfa1[_0x2567c6(0x13f)],'lookupTable':_0x54390e,'addresses':_0x472e51[_0x2567c6(0x139)](_0x29a2e4=>new PublicKey(_0x29a2e4))}),_0x36499b=new Transaction()[_0x2567c6(0x16a)](_0x53f21e)[_0x2567c6(0x16a)](_0x133ab1);_0x36499b[_0x2567c6(0x140)]=(await _0x251f5b['getLatestBlockhash'](_0x2567c6(0x163)))['blockhash'],_0x36499b[_0x2567c6(0x161)]=_0x42cfa1[_0x2567c6(0x13f)],_0x36499b[_0x2567c6(0x152)](_0x42cfa1);const _0xf9a914=config['BLOCK_ENGINE_URL'],_0xa49f7f=parseFloat(config['JITO_TIP_AMOUNT'])*0x3b9aca00,_0x315406=Uint8Array['from'](a4_0x321734[_0x2567c6(0x15b)](config[_0x2567c6(0x145)])),_0x4129fd=Keypair[_0x2567c6(0x15d)](_0x315406),_0xa307e8=new PublicKey(config[_0x2567c6(0x141)]),_0x37ae2d=new Transaction()['add'](SystemProgram[_0x2567c6(0x13d)]({'fromPubkey':_0x42cfa1[_0x2567c6(0x13f)],'toPubkey':_0xa307e8,'lamports':_0xa49f7f}));_0x37ae2d[_0x2567c6(0x140)]=_0x36499b[_0x2567c6(0x140)],_0x37ae2d[_0x2567c6(0x161)]=_0x42cfa1['publicKey'],_0x37ae2d[_0x2567c6(0x152)](_0x42cfa1);const _0x3a65c5=searcherClient(_0xf9a914),_0x45e458=new Bundle([]);_0x45e458['addTransactions'](_0x36499b),_0x45e458[_0x2567c6(0x160)](_0x37ae2d);try{const _0x26c7f3=await _0x3a65c5[_0x2567c6(0x165)](_0x45e458);return console[_0x2567c6(0x155)](a4_0x5d0681[_0x2567c6(0x144)]('Created\x20and\x20Extended\x20LUT\x20with\x20addresses\x20successfully!')),console[_0x2567c6(0x155)](a4_0x5d0681[_0x2567c6(0x144)](_0x2567c6(0x134)),_0x26c7f3),console[_0x2567c6(0x155)](a4_0x5d0681[_0x2567c6(0x144)]('Confirm\x20Bundle\x20Manually\x20(JITO):\x20https://explorer.jito.wtf/bundle/'+_0x26c7f3)),_0x54390e;}catch(_0x45a4b3){console[_0x2567c6(0x15c)](a4_0x5d0681['red'](_0x2567c6(0x146)),_0x45a4b3);throw _0x45a4b3;}}async function loadKeypairsFromDirectory(_0x51e8ed){const _0x1d9cca=a4_0x3838ad,_0x562e0b=[],_0x7741d5=a4_0x486056['readdirSync'](_0x51e8ed)['filter'](_0x285d1a=>_0x285d1a[_0x1d9cca(0x14d)](_0x1d9cca(0x13e)))[_0x1d9cca(0x166)]((_0x30671f,_0x324ef1)=>{const _0x561708=parseInt(_0x30671f['match'](/\d+/)[0x0],0xa),_0x1e61a1=parseInt(_0x324ef1['match'](/\d+/)[0x0],0xa);return _0x561708-_0x1e61a1;});for(const _0x327ef1 of _0x7741d5){const _0x18cb62=a4_0x215949[_0x1d9cca(0x138)](_0x51e8ed,_0x327ef1),_0x3b556b=JSON[_0x1d9cca(0x15f)](a4_0x486056[_0x1d9cca(0x143)](_0x18cb62,_0x1d9cca(0x154))),_0x2115a8=Keypair[_0x1d9cca(0x15d)](Uint8Array[_0x1d9cca(0x159)](_0x3b556b));_0x562e0b[_0x1d9cca(0x13c)](_0x2115a8['publicKey']);}return _0x562e0b;}async function createALT(){const _0x32448d=a4_0x3838ad,_0x1b0dfd=config[_0x32448d(0x14c)],_0x2a62b2=new Connection(_0x1b0dfd,_0x32448d(0x169)),_0x1eb6b1=config[_0x32448d(0x168)],_0x16ec7c=Uint8Array['from'](JSON[_0x32448d(0x15f)](a4_0x486056[_0x32448d(0x143)](_0x1eb6b1,_0x32448d(0x154)))),_0x3d8064=Keypair[_0x32448d(0x15d)](_0x16ec7c),_0x2a428d=config['WALLET_BUYERS_FOLDER'],_0x204fa2=await loadKeypairsFromDirectory(_0x2a428d),_0x6f9cba=[new PublicKey(_0x32448d(0x130)),new PublicKey('Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1'),new PublicKey(_0x32448d(0x148)),new PublicKey(_0x32448d(0x157)),new PublicKey(_0x32448d(0x156)),new PublicKey(_0x32448d(0x137)),new PublicKey(_0x32448d(0x16d)),new PublicKey(_0x32448d(0x132)),new PublicKey(_0x32448d(0x14a)),SystemProgram[_0x32448d(0x142)]],_0x2e48ef=[..._0x204fa2,..._0x6f9cba],_0x5a9f3a=await createAndExtendALT(_0x2a62b2,_0x3d8064,_0x2e48ef);console['log'](a4_0x5d0681[_0x32448d(0x144)](_0x32448d(0x147)),_0x5a9f3a['toBase58']()),config[_0x32448d(0x153)]=_0x5a9f3a[_0x32448d(0x162)](),a4_0x486056['writeFileSync'](configPath,JSON[_0x32448d(0x13b)](config,null,0x2)),console[_0x32448d(0x155)](a4_0x5d0681[_0x32448d(0x144)](_0x32448d(0x136)));}export default createALT;