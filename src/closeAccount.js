(function(_0x3944b0,_0x1f6c0c){const _0x5d59a0=a2_0xa44a,_0x28ab78=_0x3944b0();while(!![]){try{const _0x28171f=parseInt(_0x5d59a0(0x1a8))/0x1*(parseInt(_0x5d59a0(0x17f))/0x2)+-parseInt(_0x5d59a0(0x187))/0x3+parseInt(_0x5d59a0(0x183))/0x4*(parseInt(_0x5d59a0(0x1bd))/0x5)+parseInt(_0x5d59a0(0x1a3))/0x6+parseInt(_0x5d59a0(0x1a7))/0x7+-parseInt(_0x5d59a0(0x186))/0x8*(-parseInt(_0x5d59a0(0x1b7))/0x9)+parseInt(_0x5d59a0(0x19e))/0xa*(-parseInt(_0x5d59a0(0x1b2))/0xb);if(_0x28171f===_0x1f6c0c)break;else _0x28ab78['push'](_0x28ab78['shift']());}catch(_0x380862){_0x28ab78['push'](_0x28ab78['shift']());}}}(a2_0x1af4,0x7329f));import{PublicKey,Keypair,Connection,TransactionMessage,VersionedTransaction,SystemProgram,TransactionInstruction}from'@solana/web3.js';import{TOKEN_PROGRAM_ID,createCloseAccountInstruction}from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a2_0x5e2ba from'bs58';import a2_0x2c7629 from'chalk';function a2_0x1af4(){const _0x58e960=['yellow','Secret\x20key\x20file\x20','value','980532ERkTJO','2JWonVZ','random','Error\x20closing\x20account:','pubkey','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','toString','ceil','Found\x20','Bundle\x20Landed!','\x20of\x20','1925PeBfYx','log','Processing\x20wallet:\x20','existsSync','DELAY','387JELnsV','getLatestBlockhash','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5','JITO_TIP_AMOUNT','exit','blockhash','4298095uAsMOK','./config.json','\x20does\x20not\x20exist.','Processing\x20batch\x20','SECRET_KEY_PATH','push','error','finalized','WS_URL','from','Number\x20of\x20transactions\x20in\x20the\x20bundle:','map','confirmed','length','413512gwzWgi','Transaction\x20added\x20to\x20bundle','publicKey','sign','4wEGnZh','addTransactions','compileToV0Message','92464uVSKOV','1028163gUcsLQ','data','\x20for\x20wallet:\x20','JITO_TIP_SECRET_KEY','pubKey','wallet','parse','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','message','transactions','floor','utf8','.json','Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY','slice','ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt','readFileSync','fromSecretKey','join','Confirm\x20Bundle\x20Manually\x20(JITO):\x20https://explorer.jito.wtf/bundle/','No\x20transactions\x20to\x20process\x20in\x20this\x20batch,\x20skipping\x20bundle\x20creation.','encode','No\x20token\x20accounts\x20found\x20for\x20wallet:\x20','115760WeCrst','bundle\x20contains\x20an\x20already\x20processed\x20transaction','includes','red','green','5580186fEMJqx'];a2_0x1af4=function(){return _0x58e960;};return a2_0x1af4();}import a2_0x16a3e9 from'fs';import a2_0x38f55a from'path';import{sendBundle,sendBundle2}from'./sendBundle.js';function a2_0xa44a(_0x35ccb5,_0x4f7665){const _0x1af495=a2_0x1af4();return a2_0xa44a=function(_0xa44ad7,_0x2a85ec){_0xa44ad7=_0xa44ad7-0x172;let _0x37c3fd=_0x1af495[_0xa44ad7];return _0x37c3fd;},a2_0xa44a(_0x35ccb5,_0x4f7665);}async function loadConfig(){const _0x46dbc2=a2_0xa44a;return JSON[_0x46dbc2(0x18d)](a2_0x16a3e9['readFileSync'](_0x46dbc2(0x172),_0x46dbc2(0x192)));}async function loadWallets(){const _0x16b9a7=a2_0xa44a,_0x3bc3d3=await loadConfig(),_0x284ff3=_0x3bc3d3['WALLET_BUYERS_FOLDER'],_0x2057e5=[];for(let _0x100b7b=0x1;_0x100b7b<=0x14;_0x100b7b++){const _0x26cd8f=a2_0x38f55a[_0x16b9a7(0x199)](_0x284ff3,_0x16b9a7(0x18c)+_0x100b7b+_0x16b9a7(0x193));if(a2_0x16a3e9[_0x16b9a7(0x1b5)](_0x26cd8f)){const _0x11d766=Uint8Array[_0x16b9a7(0x17a)](JSON[_0x16b9a7(0x18d)](a2_0x16a3e9['readFileSync'](_0x26cd8f,_0x16b9a7(0x192)))),_0x222df2=Keypair[_0x16b9a7(0x198)](_0x11d766);_0x2057e5['push']({'pubKey':_0x222df2[_0x16b9a7(0x181)][_0x16b9a7(0x1ad)](),'privKey':a2_0x5e2ba[_0x16b9a7(0x19c)](_0x222df2['secretKey'])});}else{}}return _0x2057e5;}async function loadDevWallet(_0x13548c){const _0x150eee=a2_0xa44a;if(a2_0x16a3e9['existsSync'](_0x13548c)){const _0x44a0ea=Uint8Array[_0x150eee(0x17a)](JSON[_0x150eee(0x18d)](a2_0x16a3e9[_0x150eee(0x197)](_0x13548c,_0x150eee(0x192))));return Keypair[_0x150eee(0x198)](_0x44a0ea);}else console[_0x150eee(0x177)](a2_0x2c7629[_0x150eee(0x1a1)](_0x150eee(0x1a5)+_0x13548c+_0x150eee(0x173))),process[_0x150eee(0x1bb)](0x1);}async function closeAccounts(){const _0x1afbd3=a2_0xa44a,_0xfcf99c=await loadConfig(),_0x2864ec=_0xfcf99c['RPC_URL'],_0xeea8=_0xfcf99c[_0x1afbd3(0x179)],_0x41334a=_0xfcf99c['BLOCK_ENGINE_URL'],_0x355043=new Connection(_0x2864ec,{'commitment':_0x1afbd3(0x17d),'wsEndpoint':_0xeea8}),_0x48a571=await loadWallets(),_0x195f1a=await loadDevWallet(_0xfcf99c[_0x1afbd3(0x175)]),_0x38c968=0x5,_0x11a8a0=Math[_0x1afbd3(0x1ae)](_0x48a571[_0x1afbd3(0x17e)]/_0x38c968);for(let _0x52986d=0x0;_0x52986d<_0x11a8a0;_0x52986d++){const _0x215a24=_0x52986d*_0x38c968,_0x4f6c28=_0x215a24+_0x38c968,_0x3d3277=_0x48a571[_0x1afbd3(0x195)](_0x215a24,_0x4f6c28),_0x24d667=[];for(const _0x2660b7 of _0x3d3277){try{console[_0x1afbd3(0x1b3)](a2_0x2c7629['green'](_0x1afbd3(0x1b4)+_0x2660b7[_0x1afbd3(0x18b)]));const _0x5430ad=new PublicKey(_0x2660b7['pubKey']),_0x51a727=Keypair['fromSecretKey'](new Uint8Array(a2_0x5e2ba['decode'](_0x2660b7['privKey']))),_0x5ea64b=await _0x355043['getTokenAccountsByOwner'](_0x5430ad,{'programId':TOKEN_PROGRAM_ID});if(_0x5ea64b[_0x1afbd3(0x1a6)]['length']===0x0){console['log'](a2_0x2c7629[_0x1afbd3(0x1a1)](_0x1afbd3(0x19d)+_0x2660b7[_0x1afbd3(0x18b)]));continue;}console[_0x1afbd3(0x1b3)](a2_0x2c7629[_0x1afbd3(0x1a2)](_0x1afbd3(0x1af)+_0x5ea64b['value']['length']+'\x20token\x20accounts\x20for\x20wallet:\x20'+_0x2660b7[_0x1afbd3(0x18b)]));const _0xffa83d=chunkArray(_0x5ea64b[_0x1afbd3(0x1a6)][_0x1afbd3(0x17c)](_0x342b96=>_0x342b96[_0x1afbd3(0x1ab)]),0x14);for(let _0x58a132=0x0;_0x58a132<_0xffa83d['length'];_0x58a132++){const _0x220f0f=_0xffa83d[_0x58a132];console[_0x1afbd3(0x1b3)](a2_0x2c7629[_0x1afbd3(0x1a4)](_0x1afbd3(0x174)+(_0x58a132+0x1)+_0x1afbd3(0x1b1)+_0xffa83d['length']+_0x1afbd3(0x189)+_0x2660b7['pubKey']));const _0x320ce2=_0x58a132===_0xffa83d['length']-0x1?await createCloseWithTip(_0x220f0f,_0x5430ad,_0x195f1a,_0x51a727,_0x355043,_0xfcf99c):await createCloseIX(_0x220f0f,_0x5430ad,_0x195f1a,_0x51a727,_0x355043);_0x24d667['push'](_0x320ce2);}}catch(_0x32ece6){console[_0x1afbd3(0x177)](a2_0x2c7629[_0x1afbd3(0x1a1)](_0x1afbd3(0x1aa),_0x32ece6));}}if(_0x24d667[_0x1afbd3(0x17e)]===0x0){console[_0x1afbd3(0x1b3)](a2_0x2c7629[_0x1afbd3(0x1a4)](_0x1afbd3(0x19b)));continue;}const _0x324785=searcherClient(_0x41334a),_0x5de327=new Bundle([]);for(const _0x2aea6f of _0x24d667){_0x5de327[_0x1afbd3(0x184)](_0x2aea6f);}console[_0x1afbd3(0x1b3)](_0x1afbd3(0x180)),console[_0x1afbd3(0x1b3)](_0x1afbd3(0x17b),_0x5de327[_0x1afbd3(0x190)][_0x1afbd3(0x17e)]);try{const _0x4264c9=await sendBundle2(_0x5de327,_0x41334a);console[_0x1afbd3(0x1b3)](_0x1afbd3(0x19a)+_0x4264c9),console['log']('Processing\x20times\x20may\x20be\x20slow...\x0a');}catch(_0x381e34){if(_0x381e34[_0x1afbd3(0x18f)]&&_0x381e34['message'][_0x1afbd3(0x1a0)](_0x1afbd3(0x19f))){console[_0x1afbd3(0x1b3)](_0x1afbd3(0x1b0));continue;}console['error']('Error\x20sending\x20bundle:',_0x381e34);}await new Promise(_0x20b93e=>setTimeout(_0x20b93e,_0xfcf99c[_0x1afbd3(0x1b6)]));}}function chunkArray(_0x4eecb4,_0x5968fa){const _0x5b29c4=a2_0xa44a,_0x5f256a=[];for(let _0x22dcab=0x0;_0x22dcab<_0x4eecb4[_0x5b29c4(0x17e)];_0x22dcab+=_0x5968fa){_0x5f256a[_0x5b29c4(0x176)](_0x4eecb4[_0x5b29c4(0x195)](_0x22dcab,_0x22dcab+_0x5968fa));}return _0x5f256a;}async function createCloseIX(_0x2466ef,_0x56ae3e,_0x58c1d0,_0x47306f,_0x5da98a){const _0x4ca0c2=a2_0xa44a,_0x42ca70=_0x2466ef[_0x4ca0c2(0x17c)](_0x27c8d3=>{const _0x320355=_0x4ca0c2,_0xbee202=createCloseAccountInstruction(_0x27c8d3,_0x56ae3e,_0x56ae3e);return new TransactionInstruction({'keys':[{'pubkey':_0x27c8d3,'isSigner':![],'isWritable':!![]},{'pubkey':_0x56ae3e,'isSigner':![],'isWritable':!![]},{'pubkey':_0x47306f['publicKey'],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0xbee202[_0x320355(0x188)]});}),_0x332eeb=await _0x5da98a['getLatestBlockhash']('finalized'),_0x3cc74b=_0x332eeb[_0x4ca0c2(0x1bc)],_0x273e74=new TransactionMessage({'payerKey':_0x58c1d0[_0x4ca0c2(0x181)],'instructions':_0x42ca70,'recentBlockhash':_0x3cc74b})[_0x4ca0c2(0x185)](),_0x51d1ca=new VersionedTransaction(_0x273e74);return _0x51d1ca[_0x4ca0c2(0x182)]([_0x58c1d0,_0x47306f]),_0x51d1ca;}async function createCloseWithTip(_0x10d930,_0x3efd65,_0x64b62f,_0xd93693,_0xfa7b43,_0xaf3345){const _0x371eef=a2_0xa44a,_0x52b848=Keypair[_0x371eef(0x198)](new Uint8Array(a2_0x5e2ba['decode'](_0xaf3345[_0x371eef(0x18a)]))),_0xee4edc=_0xaf3345[_0x371eef(0x1ba)],_0x5f3d4f=_0xee4edc*0x3b9aca00,_0x2db69c=_0x10d930[_0x371eef(0x17c)](_0x36474a=>{const _0x3611e4=_0x371eef,_0x50835d=createCloseAccountInstruction(_0x36474a,_0x3efd65,_0x3efd65);return new TransactionInstruction({'keys':[{'pubkey':_0x36474a,'isSigner':![],'isWritable':!![]},{'pubkey':_0x3efd65,'isSigner':![],'isWritable':!![]},{'pubkey':_0xd93693[_0x3611e4(0x181)],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x50835d[_0x3611e4(0x188)]});}),_0x1efcd8=[_0x371eef(0x1b9),'HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe',_0x371eef(0x194),'ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49',_0x371eef(0x1ac),_0x371eef(0x196),_0x371eef(0x18e),'3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT'],_0x46869d=Math[_0x371eef(0x191)](Math[_0x371eef(0x1a9)]()*_0x1efcd8['length']),_0x3d0660=new PublicKey(_0x1efcd8[_0x46869d]),_0x9591cc=await _0xfa7b43[_0x371eef(0x1b8)](_0x371eef(0x178)),_0x441ff3=_0x9591cc['blockhash'],_0x113b0d=SystemProgram['transfer']({'fromPubkey':_0x52b848[_0x371eef(0x181)],'toPubkey':_0x3d0660,'lamports':_0x5f3d4f}),_0x262e16=new TransactionMessage({'payerKey':_0x64b62f[_0x371eef(0x181)],'instructions':[..._0x2db69c,_0x113b0d],'recentBlockhash':_0x441ff3})[_0x371eef(0x185)](),_0x35e2e8=new VersionedTransaction(_0x262e16);return _0x35e2e8[_0x371eef(0x182)]([_0x64b62f,_0xd93693,_0x52b848]),_0x35e2e8;}export default closeAccounts;