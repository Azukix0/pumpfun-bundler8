(function(_0xad552f,_0x3e3bee){const _0x609aae=a2_0x1478,_0x226aeb=_0xad552f();while(!![]){try{const _0x343c05=-parseInt(_0x609aae(0x17a))/0x1+parseInt(_0x609aae(0x179))/0x2*(parseInt(_0x609aae(0x15f))/0x3)+-parseInt(_0x609aae(0x173))/0x4*(-parseInt(_0x609aae(0x14f))/0x5)+parseInt(_0x609aae(0x162))/0x6+parseInt(_0x609aae(0x176))/0x7+parseInt(_0x609aae(0x164))/0x8*(-parseInt(_0x609aae(0x148))/0x9)+-parseInt(_0x609aae(0x17c))/0xa;if(_0x343c05===_0x3e3bee)break;else _0x226aeb['push'](_0x226aeb['shift']());}catch(_0x7ec906){_0x226aeb['push'](_0x226aeb['shift']());}}}(a2_0x31fc,0xbbf37));import{PublicKey,Keypair,Connection,TransactionMessage,VersionedTransaction,SystemProgram,TransactionInstruction}from'@solana/web3.js';import{TOKEN_PROGRAM_ID,createCloseAccountInstruction}from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a2_0x2ce5f1 from'bs58';import a2_0x5f586a from'chalk';import a2_0x599e93 from'fs';function a2_0x31fc(){const _0x4e37c8=['confirmed','decode','data','blockhash','parse','ceil','pubkey','pubKey','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5','utf8','Error\x20sending\x20bundle:','red','Transaction\x20added\x20to\x20bundle','privKey','2169652YfnVEz','message','JITO_TIP_SECRET_KEY','5118820Vhhmku','green','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','2LhNWBc','296975xGdijW','Processing\x20batch\x20','13607150kIPiaU','from','BLOCK_ENGINE_URL','addTransactions','Processing\x20wallet:\x20','Bundle\x20Landed!','yellow','value','JITO_TIP_AMOUNT','getLatestBlockhash','Confirm\x20Bundle\x20Manually\x20(JITO):\x20https://explorer.jito.wtf/bundle/','WALLET_BUYERS_FOLDER','DELAY','publicKey','secretKey','existsSync','finalized','error','806391dqIuxG','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','RPC_URL','slice','push','Secret\x20key\x20file\x20','No\x20transactions\x20to\x20process\x20in\x20this\x20batch,\x20skipping\x20bundle\x20creation.','10exMxIn','length','No\x20token\x20accounts\x20found\x20for\x20wallet:\x20','ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49','\x20does\x20not\x20exist.','\x20for\x20wallet:\x20','Number\x20of\x20transactions\x20in\x20the\x20bundle:','toString','includes','log','fromSecretKey','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','random','.json','sign','readFileSync','4116327pdbCUF','bundle\x20contains\x20an\x20already\x20processed\x20transaction','\x20of\x20','811992fKTkrl','HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe','80WFExeJ'];a2_0x31fc=function(){return _0x4e37c8;};return a2_0x31fc();}import a2_0x42044d from'path';import{sendBundle,sendBundle2}from'./sendBundle.js';async function loadConfig(){const _0x4c171f=a2_0x1478;return JSON[_0x4c171f(0x169)](a2_0x599e93[_0x4c171f(0x15e)]('./config.json',_0x4c171f(0x16e)));}function a2_0x1478(_0x45cc8d,_0x67d9d6){const _0x31fc7f=a2_0x31fc();return a2_0x1478=function(_0x1478ba,_0xab014d){_0x1478ba=_0x1478ba-0x13c;let _0x30ff67=_0x31fc7f[_0x1478ba];return _0x30ff67;},a2_0x1478(_0x45cc8d,_0x67d9d6);}async function loadWallets(){const _0x275e56=a2_0x1478,_0x54aab8=await loadConfig(),_0x7aac41=_0x54aab8[_0x275e56(0x141)],_0x2e4203=[];for(let _0x23f7b5=0x1;_0x23f7b5<=0x14;_0x23f7b5++){const _0x248abb=a2_0x42044d['join'](_0x7aac41,'wallet'+_0x23f7b5+_0x275e56(0x15c));if(a2_0x599e93[_0x275e56(0x145)](_0x248abb)){const _0xeff6a7=Uint8Array[_0x275e56(0x17d)](JSON['parse'](a2_0x599e93[_0x275e56(0x15e)](_0x248abb,_0x275e56(0x16e)))),_0x4d2687=Keypair[_0x275e56(0x159)](_0xeff6a7);_0x2e4203[_0x275e56(0x14c)]({'pubKey':_0x4d2687[_0x275e56(0x143)][_0x275e56(0x156)](),'privKey':a2_0x2ce5f1['encode'](_0x4d2687[_0x275e56(0x144)])});}else{}}return _0x2e4203;}async function loadDevWallet(_0x4fb241){const _0x1d6709=a2_0x1478;if(a2_0x599e93[_0x1d6709(0x145)](_0x4fb241)){const _0x3038d5=Uint8Array[_0x1d6709(0x17d)](JSON[_0x1d6709(0x169)](a2_0x599e93[_0x1d6709(0x15e)](_0x4fb241,_0x1d6709(0x16e))));return Keypair[_0x1d6709(0x159)](_0x3038d5);}else console['error'](a2_0x5f586a[_0x1d6709(0x170)](_0x1d6709(0x14d)+_0x4fb241+_0x1d6709(0x153))),process['exit'](0x1);}async function closeAccounts(){const _0x107c3a=a2_0x1478,_0x51abb6=await loadConfig(),_0x483765=_0x51abb6[_0x107c3a(0x14a)],_0x2f976b=_0x51abb6['WS_URL'],_0x258b50=_0x51abb6[_0x107c3a(0x17e)],_0x258d67=new Connection(_0x483765,{'commitment':_0x107c3a(0x165),'wsEndpoint':_0x2f976b}),_0x440760=await loadWallets(),_0x35ccb9=await loadDevWallet(_0x51abb6['SECRET_KEY_PATH']),_0x99e3e=0x5,_0x4d8b5f=Math[_0x107c3a(0x16a)](_0x440760[_0x107c3a(0x150)]/_0x99e3e);for(let _0x44563d=0x0;_0x44563d<_0x4d8b5f;_0x44563d++){const _0x3f1dc9=_0x44563d*_0x99e3e,_0x546f7b=_0x3f1dc9+_0x99e3e,_0x3a967b=_0x440760[_0x107c3a(0x14b)](_0x3f1dc9,_0x546f7b),_0x58255d=[];for(const _0x225fba of _0x3a967b){try{console['log'](a2_0x5f586a['green'](_0x107c3a(0x180)+_0x225fba[_0x107c3a(0x16c)]));const _0xa4d224=new PublicKey(_0x225fba[_0x107c3a(0x16c)]),_0x43097a=Keypair[_0x107c3a(0x159)](new Uint8Array(a2_0x2ce5f1[_0x107c3a(0x166)](_0x225fba[_0x107c3a(0x172)]))),_0x52b871=await _0x258d67['getTokenAccountsByOwner'](_0xa4d224,{'programId':TOKEN_PROGRAM_ID});if(_0x52b871['value'][_0x107c3a(0x150)]===0x0){console[_0x107c3a(0x158)](a2_0x5f586a[_0x107c3a(0x170)](_0x107c3a(0x151)+_0x225fba[_0x107c3a(0x16c)]));continue;}console['log'](a2_0x5f586a[_0x107c3a(0x177)]('Found\x20'+_0x52b871[_0x107c3a(0x13d)]['length']+'\x20token\x20accounts\x20for\x20wallet:\x20'+_0x225fba[_0x107c3a(0x16c)]));const _0x227e37=chunkArray(_0x52b871[_0x107c3a(0x13d)]['map'](_0x39ff11=>_0x39ff11[_0x107c3a(0x16b)]),0x14);for(let _0x40fe69=0x0;_0x40fe69<_0x227e37['length'];_0x40fe69++){const _0x145cd6=_0x227e37[_0x40fe69];console[_0x107c3a(0x158)](a2_0x5f586a[_0x107c3a(0x13c)](_0x107c3a(0x17b)+(_0x40fe69+0x1)+_0x107c3a(0x161)+_0x227e37[_0x107c3a(0x150)]+_0x107c3a(0x154)+_0x225fba[_0x107c3a(0x16c)]));const _0x2d7f46=_0x40fe69===_0x227e37['length']-0x1?await createCloseWithTip(_0x145cd6,_0xa4d224,_0x35ccb9,_0x43097a,_0x258d67,_0x51abb6):await createCloseIX(_0x145cd6,_0xa4d224,_0x35ccb9,_0x43097a,_0x258d67);_0x58255d[_0x107c3a(0x14c)](_0x2d7f46);}}catch(_0x16fbc5){console['error'](a2_0x5f586a['red']('Error\x20closing\x20account:',_0x16fbc5));}}if(_0x58255d[_0x107c3a(0x150)]===0x0){console[_0x107c3a(0x158)](a2_0x5f586a[_0x107c3a(0x13c)](_0x107c3a(0x14e)));continue;}const _0x127399=searcherClient(_0x258b50),_0xe51582=new Bundle([]);for(const _0xfcce6e of _0x58255d){_0xe51582[_0x107c3a(0x17f)](_0xfcce6e);}console[_0x107c3a(0x158)](_0x107c3a(0x171)),console[_0x107c3a(0x158)](_0x107c3a(0x155),_0xe51582['transactions']['length']);try{const _0x3300c7=await sendBundle2(_0xe51582,_0x258b50);console[_0x107c3a(0x158)](_0x107c3a(0x140)+_0x3300c7),console[_0x107c3a(0x158)]('Processing\x20times\x20may\x20be\x20slow...\x0a');}catch(_0x15a387){if(_0x15a387['message']&&_0x15a387[_0x107c3a(0x174)][_0x107c3a(0x157)](_0x107c3a(0x160))){console[_0x107c3a(0x158)](_0x107c3a(0x181));continue;}console[_0x107c3a(0x147)](_0x107c3a(0x16f),_0x15a387);}await new Promise(_0x3dcd69=>setTimeout(_0x3dcd69,_0x51abb6[_0x107c3a(0x142)]));}}function chunkArray(_0x5e0999,_0x26ede2){const _0x1308d0=a2_0x1478,_0x40d1aa=[];for(let _0x1e3fcc=0x0;_0x1e3fcc<_0x5e0999[_0x1308d0(0x150)];_0x1e3fcc+=_0x26ede2){_0x40d1aa[_0x1308d0(0x14c)](_0x5e0999[_0x1308d0(0x14b)](_0x1e3fcc,_0x1e3fcc+_0x26ede2));}return _0x40d1aa;}async function createCloseIX(_0x355169,_0x4c1134,_0x52cb69,_0x57a9f7,_0x91dca4){const _0xec39a9=a2_0x1478,_0x4c402f=_0x355169['map'](_0x127cc7=>{const _0x24aba4=a2_0x1478,_0x541c23=createCloseAccountInstruction(_0x127cc7,_0x4c1134,_0x4c1134);return new TransactionInstruction({'keys':[{'pubkey':_0x127cc7,'isSigner':![],'isWritable':!![]},{'pubkey':_0x4c1134,'isSigner':![],'isWritable':!![]},{'pubkey':_0x57a9f7['publicKey'],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x541c23[_0x24aba4(0x167)]});}),_0x298500=await _0x91dca4[_0xec39a9(0x13f)](_0xec39a9(0x146)),_0x5232c9=_0x298500['blockhash'],_0x57338c=new TransactionMessage({'payerKey':_0x52cb69[_0xec39a9(0x143)],'instructions':_0x4c402f,'recentBlockhash':_0x5232c9})['compileToV0Message'](),_0x1799b4=new VersionedTransaction(_0x57338c);return _0x1799b4[_0xec39a9(0x15d)]([_0x52cb69,_0x57a9f7]),_0x1799b4;}async function createCloseWithTip(_0x4e3afe,_0x2a2ea8,_0x21ef2a,_0x20a98e,_0x6ee75f,_0x2dd288){const _0x4d83e=a2_0x1478,_0x15e028=Keypair[_0x4d83e(0x159)](new Uint8Array(a2_0x2ce5f1[_0x4d83e(0x166)](_0x2dd288[_0x4d83e(0x175)]))),_0x2d70cf=_0x2dd288[_0x4d83e(0x13e)],_0x53c4a7=_0x2d70cf*0x3b9aca00,_0x4a2965=_0x4e3afe['map'](_0x2c24a1=>{const _0x2e9aad=_0x4d83e,_0x347732=createCloseAccountInstruction(_0x2c24a1,_0x2a2ea8,_0x2a2ea8);return new TransactionInstruction({'keys':[{'pubkey':_0x2c24a1,'isSigner':![],'isWritable':!![]},{'pubkey':_0x2a2ea8,'isSigner':![],'isWritable':!![]},{'pubkey':_0x20a98e['publicKey'],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x347732[_0x2e9aad(0x167)]});}),_0x559345=[_0x4d83e(0x16d),_0x4d83e(0x163),'Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY',_0x4d83e(0x152),_0x4d83e(0x149),'ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt',_0x4d83e(0x15a),_0x4d83e(0x178)],_0x2c88bb=Math['floor'](Math[_0x4d83e(0x15b)]()*_0x559345['length']),_0x89e4a=new PublicKey(_0x559345[_0x2c88bb]),_0x3e3265=await _0x6ee75f[_0x4d83e(0x13f)]('finalized'),_0x30205f=_0x3e3265[_0x4d83e(0x168)],_0x20fdd9=SystemProgram['transfer']({'fromPubkey':_0x15e028[_0x4d83e(0x143)],'toPubkey':_0x89e4a,'lamports':_0x53c4a7}),_0x316401=new TransactionMessage({'payerKey':_0x21ef2a['publicKey'],'instructions':[..._0x4a2965,_0x20fdd9],'recentBlockhash':_0x30205f})['compileToV0Message'](),_0x5f461d=new VersionedTransaction(_0x316401);return _0x5f461d[_0x4d83e(0x15d)]([_0x21ef2a,_0x20a98e,_0x15e028]),_0x5f461d;}export default closeAccounts;