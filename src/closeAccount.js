(function(_0x8347b6,_0x3137c5){const _0x4aa01f=a2_0x2d51,_0x196df4=_0x8347b6();while(!![]){try{const _0x3ad6f4=-parseInt(_0x4aa01f(0x18c))/0x1+parseInt(_0x4aa01f(0x1a1))/0x2*(parseInt(_0x4aa01f(0x199))/0x3)+-parseInt(_0x4aa01f(0x187))/0x4*(parseInt(_0x4aa01f(0x174))/0x5)+-parseInt(_0x4aa01f(0x18a))/0x6*(-parseInt(_0x4aa01f(0x17b))/0x7)+-parseInt(_0x4aa01f(0x188))/0x8*(parseInt(_0x4aa01f(0x183))/0x9)+parseInt(_0x4aa01f(0x198))/0xa*(parseInt(_0x4aa01f(0x19b))/0xb)+parseInt(_0x4aa01f(0x194))/0xc;if(_0x3ad6f4===_0x3137c5)break;else _0x196df4['push'](_0x196df4['shift']());}catch(_0x1b97a3){_0x196df4['push'](_0x196df4['shift']());}}}(a2_0x2edf,0x29125));function a2_0x2d51(_0x4e85b0,_0x22849a){const _0x2edf15=a2_0x2edf();return a2_0x2d51=function(_0x2d512c,_0x4a245b){_0x2d512c=_0x2d512c-0x174;let _0x3f2a8a=_0x2edf15[_0x2d512c];return _0x3f2a8a;},a2_0x2d51(_0x4e85b0,_0x22849a);}import{PublicKey,Keypair,Connection,TransactionMessage,VersionedTransaction,SystemProgram,TransactionInstruction}from'@solana/web3.js';import{TOKEN_PROGRAM_ID,createCloseAccountInstruction}from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a2_0x3bbe1b from'bs58';import a2_0x5a26a8 from'chalk';import a2_0xb49ddf from'fs';import a2_0x5875ca from'path';import{sendBundle,sendBundle2}from'./sendBundle.js';async function loadConfig(){const _0x23cc2d=a2_0x2d51;return JSON[_0x23cc2d(0x189)](a2_0xb49ddf[_0x23cc2d(0x191)](_0x23cc2d(0x1a2),_0x23cc2d(0x18f)));}async function loadWallets(){const _0x3896fd=a2_0x2d51,_0x2972b9=await loadConfig(),_0x2050a7=_0x2972b9[_0x3896fd(0x197)],_0x1ea914=[];for(let _0x929b98=0x1;_0x929b98<=0x14;_0x929b98++){const _0x3e9e3f=a2_0x5875ca[_0x3896fd(0x1a5)](_0x2050a7,_0x3896fd(0x17e)+_0x929b98+_0x3896fd(0x184));if(a2_0xb49ddf[_0x3896fd(0x175)](_0x3e9e3f)){const _0x559ff0=Uint8Array[_0x3896fd(0x19a)](JSON[_0x3896fd(0x189)](a2_0xb49ddf[_0x3896fd(0x191)](_0x3e9e3f,'utf8'))),_0x1f86cf=Keypair['fromSecretKey'](_0x559ff0);_0x1ea914[_0x3896fd(0x185)]({'pubKey':_0x1f86cf[_0x3896fd(0x1bb)][_0x3896fd(0x1b5)](),'privKey':a2_0x3bbe1b[_0x3896fd(0x177)](_0x1f86cf[_0x3896fd(0x179)])});}else console[_0x3896fd(0x1a3)](a2_0x5a26a8[_0x3896fd(0x1b8)](_0x3896fd(0x196)+_0x3e9e3f+_0x3896fd(0x1bc)));}return _0x1ea914;}async function loadDevWallet(_0x47debc){const _0x25fd13=a2_0x2d51;if(a2_0xb49ddf[_0x25fd13(0x175)](_0x47debc)){const _0x26e8ed=Uint8Array[_0x25fd13(0x19a)](JSON[_0x25fd13(0x189)](a2_0xb49ddf[_0x25fd13(0x191)](_0x47debc,'utf8')));return Keypair['fromSecretKey'](_0x26e8ed);}else console[_0x25fd13(0x17a)](a2_0x5a26a8['red'](_0x25fd13(0x1c2)+_0x47debc+_0x25fd13(0x1bc))),process[_0x25fd13(0x180)](0x1);}async function closeAccounts(){const _0x18b886=a2_0x2d51,_0x586307=await loadConfig(),_0xd96f7b=_0x586307['RPC_URL'],_0x5247fe=_0x586307[_0x18b886(0x1ab)],_0x21722a=_0x586307[_0x18b886(0x1a7)],_0x335cf7=new Connection(_0xd96f7b,{'commitment':_0x18b886(0x1b9),'wsEndpoint':_0x5247fe}),_0x4c9c01=await loadWallets(),_0x3ef9ce=await loadDevWallet(_0x586307[_0x18b886(0x1b4)]),_0x2c73ca=0x5,_0x3028d3=Math['ceil'](_0x4c9c01['length']/_0x2c73ca);for(let _0x1810a6=0x0;_0x1810a6<_0x3028d3;_0x1810a6++){const _0x3f7d2c=_0x1810a6*_0x2c73ca,_0x7df022=_0x3f7d2c+_0x2c73ca,_0x2ec1a6=_0x4c9c01['slice'](_0x3f7d2c,_0x7df022),_0x37e589=[];for(const _0x2249b0 of _0x2ec1a6){try{console[_0x18b886(0x195)](a2_0x5a26a8[_0x18b886(0x1a6)](_0x18b886(0x1b1)+_0x2249b0[_0x18b886(0x1b7)]+'\x0a'));const _0x499a7d=new PublicKey(_0x2249b0[_0x18b886(0x1b7)]),_0x24c691=Keypair[_0x18b886(0x190)](new Uint8Array(a2_0x3bbe1b[_0x18b886(0x19c)](_0x2249b0[_0x18b886(0x1ae)]))),_0x440ec3=await _0x335cf7['getTokenAccountsByOwner'](_0x499a7d,{'programId':TOKEN_PROGRAM_ID});if(_0x440ec3['value'][_0x18b886(0x18e)]===0x0){console[_0x18b886(0x195)](a2_0x5a26a8[_0x18b886(0x192)](_0x18b886(0x18b)+_0x2249b0['pubKey']));continue;}console['log'](a2_0x5a26a8['green']('Found\x20'+_0x440ec3[_0x18b886(0x1a9)][_0x18b886(0x18e)]+_0x18b886(0x17c)+_0x2249b0[_0x18b886(0x1b7)]));const _0x2bf72f=_0x440ec3[_0x18b886(0x1a9)][_0x18b886(0x17f)](_0x1572ee=>_0x1572ee[_0x18b886(0x1b3)]);let _0x41753d;_0x2249b0===_0x2ec1a6[_0x2ec1a6[_0x18b886(0x18e)]-0x1]?(_0x41753d=await createCloseWithTip(_0x2bf72f,_0x499a7d,_0x3ef9ce,_0x24c691,_0x335cf7,_0x586307),_0x37e589[_0x18b886(0x185)](_0x41753d)):(_0x41753d=await createCloseIX(_0x2bf72f,_0x499a7d,_0x3ef9ce,_0x24c691,_0x335cf7),_0x37e589[_0x18b886(0x185)](_0x41753d));}catch(_0x1b724a){console[_0x18b886(0x17a)](a2_0x5a26a8['red'](_0x18b886(0x19f),_0x1b724a));}}if(_0x37e589[_0x18b886(0x18e)]===0x0){console[_0x18b886(0x195)](a2_0x5a26a8[_0x18b886(0x1b8)]('No\x20transactions\x20to\x20process\x20in\x20this\x20batch,\x20skipping\x20bundle\x20creation.'));continue;}const _0x39a9cb=searcherClient(_0x21722a),_0x557dc9=new Bundle([]);for(const _0x30dfcf of _0x37e589){_0x557dc9['addTransactions'](_0x30dfcf);}console[_0x18b886(0x195)](_0x18b886(0x1a8)),console[_0x18b886(0x195)](_0x18b886(0x1be),_0x557dc9[_0x18b886(0x1ba)][_0x18b886(0x18e)]);try{const _0x5d7ca4=await sendBundle2(_0x557dc9,_0x21722a);console[_0x18b886(0x195)](_0x18b886(0x1af)+_0x5d7ca4),console[_0x18b886(0x195)](_0x18b886(0x182));}catch(_0x48ba9a){if(_0x48ba9a['message']&&_0x48ba9a[_0x18b886(0x1bd)][_0x18b886(0x1bf)](_0x18b886(0x18d))){console['log'](_0x18b886(0x1b2));continue;}console[_0x18b886(0x17a)](_0x18b886(0x1c0),_0x48ba9a);}await new Promise(_0x112867=>setTimeout(_0x112867,_0x586307[_0x18b886(0x1c1)]));}}async function createCloseIX(_0x4269eb,_0x3f1760,_0x16eb2b,_0x254db8,_0x17f5b9){const _0x351f7c=a2_0x2d51,_0x36c1c8=_0x4269eb['map'](_0x1b6a7b=>{const _0x860f89=a2_0x2d51,_0x27cf31=createCloseAccountInstruction(_0x1b6a7b,_0x3f1760,_0x3f1760);return new TransactionInstruction({'keys':[{'pubkey':_0x1b6a7b,'isSigner':![],'isWritable':!![]},{'pubkey':_0x3f1760,'isSigner':![],'isWritable':!![]},{'pubkey':_0x254db8[_0x860f89(0x1bb)],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x27cf31['data']});}),_0x6d8e09=await _0x17f5b9[_0x351f7c(0x1b6)](_0x351f7c(0x1a4)),_0x47c9cb=_0x6d8e09[_0x351f7c(0x176)],_0x5659f5=new TransactionMessage({'payerKey':_0x16eb2b[_0x351f7c(0x1bb)],'instructions':_0x36c1c8,'recentBlockhash':_0x47c9cb})[_0x351f7c(0x186)](),_0x27e8a3=new VersionedTransaction(_0x5659f5);return _0x27e8a3[_0x351f7c(0x19d)]([_0x16eb2b,_0x254db8]),_0x27e8a3;}function a2_0x2edf(){const _0x26b3f5=['DELAY','Secret\x20key\x20file\x20','10CGufYh','existsSync','blockhash','encode','ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49','secretKey','error','122101TKVhkB','\x20token\x20accounts\x20for\x20wallet:\x20','JITO_TIP_AMOUNT','wallet','map','exit','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','Processing\x20times\x20may\x20be\x20slow...\x0a','36GcTmDd','.json','push','compileToV0Message','239296bPnMpS','140024cciIvo','parse','78DOfrru','No\x20token\x20accounts\x20found\x20for\x20wallet:\x20','156195KtjRih','bundle\x20contains\x20an\x20already\x20processed\x20transaction','length','utf8','fromSecretKey','readFileSync','red','data','571056ChiKle','log','File\x20','WALLET_BUYERS_FOLDER','1397730LYDRvQ','149946nKhPRb','from','11mowCOF','decode','sign','HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe','Error\x20closing\x20account:','floor','4KsXWaT','./config.json','warn','finalized','join','green','BLOCK_ENGINE_URL','Transaction\x20added\x20to\x20bundle','value','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','WS_URL','JITO_TIP_SECRET_KEY','random','privKey','Confirm\x20Bundle\x20Manually\x20(JITO):\x20https://explorer.jito.wtf/bundle/','transfer','Processing\x20wallet:\x20','Bundle\x20Landed!','pubkey','SECRET_KEY_PATH','toString','getLatestBlockhash','pubKey','yellow','confirmed','transactions','publicKey','\x20does\x20not\x20exist.','message','Number\x20of\x20transactions\x20in\x20the\x20bundle:','includes','Error\x20sending\x20bundle:'];a2_0x2edf=function(){return _0x26b3f5;};return a2_0x2edf();}async function createCloseWithTip(_0x2cd9d4,_0x29ca23,_0x33af44,_0xcf499,_0x4162c6,_0x2adf42){const _0xfc58bc=a2_0x2d51,_0x250231=Keypair[_0xfc58bc(0x190)](new Uint8Array(a2_0x3bbe1b[_0xfc58bc(0x19c)](_0x2adf42[_0xfc58bc(0x1ac)]))),_0x37dc03=_0x2adf42[_0xfc58bc(0x17d)],_0x195ae2=_0x37dc03*0x3b9aca00,_0xe527b4=_0x2cd9d4['map'](_0x52349b=>{const _0x5c3656=_0xfc58bc,_0x501770=createCloseAccountInstruction(_0x52349b,_0x29ca23,_0x29ca23);return new TransactionInstruction({'keys':[{'pubkey':_0x52349b,'isSigner':![],'isWritable':!![]},{'pubkey':_0x29ca23,'isSigner':![],'isWritable':!![]},{'pubkey':_0xcf499[_0x5c3656(0x1bb)],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x501770[_0x5c3656(0x193)]});}),_0x4f3fb7=['96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5',_0xfc58bc(0x19e),'Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY',_0xfc58bc(0x178),'DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt',_0xfc58bc(0x181),_0xfc58bc(0x1aa)],_0x157aa9=Math[_0xfc58bc(0x1a0)](Math[_0xfc58bc(0x1ad)]()*_0x4f3fb7['length']),_0x1a7d2b=new PublicKey(_0x4f3fb7[_0x157aa9]),_0x421241=await _0x4162c6[_0xfc58bc(0x1b6)](_0xfc58bc(0x1a4)),_0x1648a2=_0x421241[_0xfc58bc(0x176)],_0x347837=SystemProgram[_0xfc58bc(0x1b0)]({'fromPubkey':_0x250231[_0xfc58bc(0x1bb)],'toPubkey':_0x1a7d2b,'lamports':_0x195ae2}),_0x14df73=new TransactionMessage({'payerKey':_0x33af44[_0xfc58bc(0x1bb)],'instructions':[..._0xe527b4,_0x347837],'recentBlockhash':_0x1648a2})[_0xfc58bc(0x186)](),_0x3457d2=new VersionedTransaction(_0x14df73);return _0x3457d2[_0xfc58bc(0x19d)]([_0x33af44,_0xcf499,_0x250231]),_0x3457d2;}export default closeAccounts;